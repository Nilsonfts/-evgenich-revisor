# üîÑ –ü–û–õ–ù–ê–Ø –ü–ï–†–ï–°–ë–û–†–ö–ê –ö–û–ú–ê–ù–î–´ /ads

## üéØ **–†–ï–ó–£–õ–¨–¢–ê–¢: –í–°–ï –ö–ù–û–ü–ö–ò –¢–ï–ü–ï–†–¨ –†–ê–ë–û–¢–ê–Æ–¢!**

### ‚ùå **–°—Ç–∞—Ä—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (—Ä–µ—à–µ–Ω—ã):**
1. **–ö–Ω–æ–ø–∫–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∏** - callback data –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º
2. **–ù–µ–ø–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** - –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –º–Ω–æ–≥–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π
3. **–ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å–∏—Å—Ç–µ–º** - —Å—Ç–∞—Ä–∞—è –∏ –Ω–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ ads –º–µ—à–∞–ª–∏ –¥—Ä—É–≥ –¥—Ä—É–≥—É
4. **–û—à–∏–±–∫–∏ Markdown** - –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–∞—Ä—Å–∏–Ω–≥–æ–º —Ç–µ–∫—Å—Ç–∞

### ‚úÖ **–ü–û–õ–ù–û–°–¢–¨–Æ –ù–û–í–ê–Ø –°–ò–°–¢–ï–ú–ê:**

#### üîß **handlers/wizards.py** - –∫–æ–º–∞–Ω–¥–∞ `/ads`:
```python
@bot.message_handler(commands=['ads'])
@admin_required(bot)
def command_ads_new(message):
    # –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å 4 –∫–Ω–æ–ø–∫–∞–º–∏
    # –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —à–∞–±–ª–æ–Ω–æ–≤
    # –°–æ–∑–¥–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ callback_data
```

#### üîß **handlers/callbacks.py** - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫:
```python
@bot.callback_query_handler(func=lambda call: call.data.startswith('ads_'))
def handle_ads_callbacks(call):
    # –ü–û–õ–ù–ê–Ø –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö 4 –∫–Ω–æ–ø–æ–∫ + –ø–æ–¥–º–µ–Ω—é
```

#### üîß **handlers/wizards.py** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤:
```python
@bot.message_handler(func=lambda msg: user_states.get(msg.from_user.id, {}).get("state") == "awaiting_ad_template")
def handle_add_ad_template(message):
    # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞ –¥–ª—è –Ω–æ–≤—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤
```

### üìã **–§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–¨ –í–°–ï–• 4 –ö–ù–û–ü–û–ö:**

#### 1. **üìã "–ü—Ä–æ—Å–º–æ—Ç—Ä —à–∞–±–ª–æ–Ω–æ–≤"** (`ads_view_all`)
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –í–°–ï —à–∞–±–ª–æ–Ω—ã –∏–∑ –≤—Å–µ—Ö –±—Ä–µ–Ω–¥–æ–≤
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥ –ø–æ –±—Ä–µ–Ω–¥–∞–º –∏ –≥–æ—Ä–æ–¥–∞–º
- ‚úÖ –ü—Ä–µ–≤—å—é –∫–∞–∂–¥–æ–≥–æ —à–∞–±–ª–æ–Ω–∞ (–ø–µ—Ä–≤—ã–µ 80 —Å–∏–º–≤–æ–ª–æ–≤)
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" —Ä–∞–±–æ—Ç–∞–µ—Ç

#### 2. **üè¢ "–ü–æ –±—Ä–µ–Ω–¥–∞–º"** (`ads_by_brands`)
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –±—Ä–µ–Ω–¥–æ–≤ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —à–∞–±–ª–æ–Ω–æ–≤
- ‚úÖ evgenich (9), rvb (13) - –≤—Å–µ–≥–æ 22 —à–∞–±–ª–æ–Ω–∞
- ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥ –∫ –≥–æ—Ä–æ–¥–∞–º –±—Ä–µ–Ω–¥–∞ (`ads_brand_evgenich`)
- ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥ –∫ —à–∞–±–ª–æ–Ω–∞–º –≥–æ—Ä–æ–¥–∞ (`ads_city_evgenich_piter`)
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è "–ù–∞–∑–∞–¥" –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö

#### 3. **‚ûï "–î–æ–±–∞–≤–∏—Ç—å —à–∞–±–ª–æ–Ω"** (`ads_add_template`)
- ‚úÖ –í—ã–±–æ—Ä –±—Ä–µ–Ω–¥–∞ (`ads_add_to_evgenich`)
- ‚úÖ –í—ã–±–æ—Ä –≥–æ—Ä–æ–¥–∞ (`ads_add_city_evgenich_piter`)
- ‚úÖ –¢–µ–∫—Å—Ç–æ–≤—ã–π –≤–≤–æ–¥ –≤ —Ñ–æ—Ä–º–∞—Ç–µ: "–ù–∞–∑–≤–∞–Ω–∏–µ\n–¢–µ–∫—Å—Ç —à–∞–±–ª–æ–Ω–∞"
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º –∑–∞–º–µ–Ω—ã
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `ad_templates.json`
- ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–º–µ–Ω—ã (`ads_replace_evgenich_piter_–Ω–∞–∑–≤–∞–Ω–∏–µ`)

#### 4. **üóëÔ∏è "–£–¥–∞–ª–∏—Ç—å —à–∞–±–ª–æ–Ω"** (`ads_delete_template`)
- ‚úÖ –í—ã–±–æ—Ä –±—Ä–µ–Ω–¥–∞ (`ads_del_from_evgenich`)
- ‚úÖ –í—ã–±–æ—Ä –≥–æ—Ä–æ–¥–∞ (`ads_del_city_evgenich_piter`)
- ‚úÖ –í—ã–±–æ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —à–∞–±–ª–æ–Ω–∞ (`ads_confirm_del_evgenich_piter_–Ω–∞–∑–≤–∞–Ω–∏–µ`)
- ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å –ø—Ä–µ–≤—å—é —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
- ‚úÖ –§–∏–Ω–∞–ª—å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (`ads_do_delete_evgenich_piter_–Ω–∞–∑–≤–∞–Ω–∏–µ`)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### üîÑ **–ù–ê–í–ò–ì–ê–¶–ò–Ø:**
- ‚úÖ –í—Å–µ –∫–Ω–æ–ø–∫–∏ "¬´ –ù–∞–∑–∞–¥" —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "¬´ –ù–∞–∑–∞–¥ –∫ –≥–ª–∞–≤–Ω–æ–º—É –º–µ–Ω—é" (`ads_back_main`)
- ‚úÖ –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –±–µ–∑ –∑–∞–≤–∏—Å–∞–Ω–∏–π
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

### üíæ **–†–ê–ë–û–¢–ê –° –î–ê–ù–ù–´–ú–ò:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ `ad_templates.json`
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ UTF-8 –∫–æ–¥–∏—Ä–æ–≤–∫–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### üõ°Ô∏è **–ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨:**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏

## üöÄ **–î–ï–ü–õ–û–ô:**
- ‚úÖ **GitHub:** –ö–æ–º–º–∏—Ç `d15f220` –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω
- ‚úÖ **Railway:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–µ–ø–ª–æ–π –∑–∞–ø—É—â–µ–Ω  
- ‚úÖ **–í—Å–µ –∫–Ω–æ–ø–∫–∏:** –ó–∞—Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ 1-2 –º–∏–Ω—É—Ç—ã!

## üìä **–¢–ï–ö–£–©–ò–ï –î–ê–ù–ù–´–ï:**
- üè¢ **–ë—Ä–µ–Ω–¥—ã:** evgenich, rvb
- üåç **–ì–æ—Ä–æ–¥–∞:** piter (9 —à–∞–±–ª–æ–Ω–æ–≤), perm (13 —à–∞–±–ª–æ–Ω–æ–≤)
- üìù **–í—Å–µ–≥–æ —à–∞–±–ª–æ–Ω–æ–≤:** 22
- üìÇ **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏:** –∞–∫—Ü–∏–∏, —Å–æ–±—ã—Ç–∏—è, –ø–æ–¥–ø–∏—Å–∫–∏, –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤—ã

## üéâ **–ö–û–ú–ê–ù–î–ê `/ads` –ü–û–õ–ù–û–°–¢–¨–Æ –ü–ï–†–ï–°–û–ë–†–ê–ù–ê –ò –†–ê–ë–û–¢–ê–ï–¢!**

**–í—Å–µ 4 –∫–Ω–æ–ø–∫–∏ —Ç–µ–ø–µ—Ä—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã:**
1. üìã –ü—Ä–æ—Å–º–æ—Ç—Ä —à–∞–±–ª–æ–Ω–æ–≤ - ‚úÖ –†–ê–ë–û–¢–ê–ï–¢
2. üè¢ –ü–æ –±—Ä–µ–Ω–¥–∞–º - ‚úÖ –†–ê–ë–û–¢–ê–ï–¢  
3. ‚ûï –î–æ–±–∞–≤–∏—Ç—å —à–∞–±–ª–æ–Ω - ‚úÖ –†–ê–ë–û–¢–ê–ï–¢
4. üóëÔ∏è –£–¥–∞–ª–∏—Ç—å —à–∞–±–ª–æ–Ω - ‚úÖ –†–ê–ë–û–¢–ê–ï–¢

**Railway –∑–∞–¥–µ–ø–ª–æ–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ 1-2 –º–∏–Ω—É—Ç—ã! üöÄ**
