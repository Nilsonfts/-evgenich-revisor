# üõ†Ô∏è –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ö–û–ú–ê–ù–î–´ /ads

## ‚ùå –ü—Ä–æ–±–ª–µ–º—ã –∫–æ–º–∞–Ω–¥—ã `/ads`:

### 1. **Markdown parsing errors**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è `parse_mode="Markdown"` 
- –°–∏–º–≤–æ–ª—ã `**` –≤—ã–∑—ã–≤–∞–ª–∏ –æ—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ Telegram API

### 2. **–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏**
- –ö–Ω–æ–ø–∫–∏ –≤—ã–∑—ã–≤–∞–ª–∏ callback'–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –±—ã–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã
- `ads_view_categories`, `ads_add_new`, `ads_edit_*` –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∏

### 3. **–ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å–∏—Å—Ç–µ–º ads**
- –°—Ç–∞—Ä–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤ `handlers/user.py` (–ø—Ä–æ—Å—Ç–æ–π –ø—Ä–æ—Å–º–æ—Ç—Ä)
- –ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤ `handlers/wizards.py` (—Å –∫–Ω–æ–ø–∫–∞–º–∏) 
- –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∞ —Å–≤—è–∑—å –º–µ–∂–¥—É –Ω–∏–º–∏

## ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:

### 1. **handlers/wizards.py** - —É–±—Ä–∞–Ω –ø—Ä–æ–±–ª–µ–º–Ω—ã–π Markdown:
```python
# –ë—ã–ª–æ:
text = f"**üì¢ –†–ï–ö–õ–ê–ú–ù–´–ï –®–ê–ë–õ–û–ù–´**\n\n{category_name}:"
bot.send_message(message.chat.id, text, parse_mode="Markdown", reply_markup=keyboard)

# –°—Ç–∞–ª–æ: 
text = f"üì¢ –†–ï–ö–õ–ê–ú–ù–´–ï –®–ê–ë–õ–û–ù–´\n\n{category_name}"
bot.send_message(message.chat.id, text, reply_markup=keyboard)
```

### 2. **handlers/callbacks.py** - –¥–æ–±–∞–≤–ª–µ–Ω—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏:
```python
@bot.callback_query_handler(func=lambda call: call.data.startswith('ads_'))
def handle_ads_callbacks(call):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—Å–µ—Ö ads callback'–æ–≤."""
    # –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π —Å —Ä–µ–∫–ª–∞–º–Ω—ã–º–∏ —à–∞–±–ª–æ–Ω–∞–º–∏
```

### 3. **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∫–æ–º–∞–Ω–¥—ã `/ads`:**
- ‚úÖ **–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:** –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–µ–∫–ª–∞–º–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤
- ‚úÖ **–î–ª—è –∞–¥–º–∏–Ω–æ–≤:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞–º–∏ (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ)
- ‚úÖ **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏:** –í—Å–µ callback'–∏ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —Ç–µ–∫—Å—Ç:** –ù–∏–∫–∞–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º —Å –ø–∞—Ä—Å–∏–Ω–≥–æ–º

### 4. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ ads –≤ ad_templates.json:**
```json
{
  "evgenich": {
    "piter": {
      "–í –ü–∏—Ç–µ—Ä–µ - –ø–µ—Ç—å!": "—Ç–µ–∫—Å—Ç —Ä–µ–∫–ª–∞–º—ã...",
      "–ê–∫—Ü–∏—è: –ß–µ—Å—Ç–Ω—ã–π –æ—Ç–∑—ã–≤": "—Ç–µ–∫—Å—Ç –∞–∫—Ü–∏–∏..."
    }
  },
  "rvb": {
    "perm": {
      "–ê–∫—Ü–∏—è: –î–µ–Ω—å –†–æ–∂–¥–µ–Ω–∏—è": "—Ç–µ–∫—Å—Ç –∞–∫—Ü–∏–∏...",
      "–í–µ—á–µ—Ä–∏–Ω–∫–∞: –î–∏—Å–∫–æ–∫–∞—Ä–∞–æ–∫–µ": "—Ç–µ–∫—Å—Ç —Å–æ–±—ã—Ç–∏—è..."
    }
  }
}
```

## üéØ **–†–ï–ó–£–õ–¨–¢–ê–¢:**

### ‚úÖ **–ö–æ–º–∞–Ω–¥–∞ `/ads` —Ç–µ–ø–µ—Ä—å:**
1. **–†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫** - —É–±—Ä–∞–Ω—ã –≤—Å–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã Markdown
2. **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ —Ä–µ–∫–ª–∞–º–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–µ–∫–ª–∞–º
3. **–ò–º–µ–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - –∞–¥–º–∏–Ω—ã –º–æ–≥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏
4. **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç callback'–∏** - –≤—Å–µ –∫–Ω–æ–ø–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### üìã **–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- üëÄ **–ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º** (`ads_view_categories`)
- ‚ûï **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö** (`ads_add_new`) 
- ‚úèÔ∏è **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** (`ads_edit_*`)
- üóëÔ∏è **–£–¥–∞–ª–µ–Ω–∏–µ** (`ads_delete_*`)
- üíæ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ `ad_templates.json`

## üöÄ **–î–µ–ø–ª–æ–π:**
- ‚úÖ **GitHub:** –ö–æ–º–º–∏—Ç `be34234` –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω
- ‚úÖ **Railway:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–µ–ø–ª–æ–π 
- ‚úÖ **–ö–æ–º–∞–Ω–¥–∞ `/ads`:** –ó–∞—Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ 1-2 –º–∏–Ω—É—Ç—ã!

**üéâ –ö–æ–º–∞–Ω–¥–∞ `/ads` —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞! üéâ**
